<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø¥Ø¯Ù…Ø§Ù†</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Amiri:ital,wght@1,700&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap');

    body {
      background: linear-gradient(120deg, #90caf9 0%, #e3f2fd 100%);
      font-family: 'Tajawal', 'Arial', sans-serif;
      padding: 0;
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .container {
      max-width: 650px;
      width: 95%;
      margin: 40px auto;
      background: #fff;
      box-shadow: 0 10px 30px rgba(30, 144, 255, 0.3);
      border-radius: 28px;
      padding: 3.5rem 3rem 3rem 3rem;
      text-align: center;
    }
    .ayah {
      margin: 40px 0 28px 0;
      font-family: 'Amiri', serif;
      font-size: 1.65rem;
      color: #1967d2;
      font-weight: bold;
      letter-spacing: 0.7px;
      text-shadow: 1.8px 1.8px 7px #9fc9e7;
      border-bottom: 3px solid #90caf9;
      display: inline-block;
      padding-bottom: 12px;
      line-height: 2.1;
    }
    #timer {
      font-size: 1.85rem;
      margin: 30px 0 38px 0;
      color: #0b5fd9;
      font-weight: 700;
      background: #e3f2fd;
      border-radius: 14px;
      padding: 18px 0;
      letter-spacing: 1.3px;
      box-shadow: 0 0 8px #aed7f8;
      display: inline-block;
      width: 98%;
      user-select: none;
    }
    .btn {
      background-color: #1967d2;
      border: none;
      color: white;
      padding: 20px 50px;
      font-size: 1.55rem;
      font-weight: 700;
      border-radius: 40px;
      cursor: pointer;
      margin: 25px 0 15px 0;
      transition: background 0.25s;
      box-shadow: 0 4px 16px #ccdef7;
      user-select: none;
    }
    .btn:active {
      background-color: #0b5fd9;
    }
    .reminders {
      font-size: 1.25rem;
      margin: 18px 0 8px 0;
      color: #218070;
      background: #f1f8e9;
      box-shadow: 0 3px 12px #e1f5fe;
      border-radius: 18px;
      padding: 20px 15px;
      line-height: 2.2;
      text-align: right;
      user-select: none;
    }
    .section-title {
      font-size: 1.35rem;
      font-weight: 800;
      margin: 35px 0 18px 0;
      color: #178d76;
      border-bottom: 2.5px solid #1967d2;
      display: inline-block;
      padding-bottom: 8px;
      user-select: none;
    }
    .success-msg {
      font-size: 1.28rem;
      color: #00c625;
      margin-top: 28px;
      background: #e8f5e9;
      border-radius: 13px;
      display: inline-block;
      padding: 16px 22px;
      font-weight: 700;
      letter-spacing: 1.3px;
      user-select: none;
    }

    @media (max-width: 768px) {
      .container {
        max-width: 90%;
        padding: 2.5rem 1.5rem;
      }
      .ayah {
        font-size: 1.4rem;
        margin: 30px 0 20px 0;
      }
      #timer {
        font-size: 1.5rem;
        margin: 25px 0 30px 0;
      }
      .btn {
        padding: 16px 36px;
        font-size: 1.25rem;
      }
      .reminders {
        font-size: 1.1rem;
        padding: 15px 10px;
        line-height: 1.8;
      }
      .section-title {
        font-size: 1.2rem;
        margin: 25px 0 12px 0;
      }
      .success-msg {
        font-size: 1.15rem;
        padding: 14px 18px;
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 2rem 1rem;
      }
      .ayah {
        font-size: 1.25rem;
        margin: 25px 0 15px 0;
      }
      #timer {
        font-size: 1.3rem;
        margin: 20px 0 25px 0;
      }
      .btn {
        padding: 14px 30px;
        font-size: 1.1rem;
      }
      .reminders {
        font-size: 0.95rem;
        padding: 12px 8px;
        line-height: 1.7;
      }
      .section-title {
        font-size: 1.1rem;
        margin: 20px 0 10px 0;
      }
      .success-msg {
        font-size: 1.05rem;
        padding: 12px 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container" id="main-container">

    <div id="step-register" style="display:block;">
      <h2 style="color:#178d76;font-weight:900;margin:25px 0 28px 0; font-size: 1.8em;">Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø¥Ø¯Ù…Ø§Ù†</h2>
      <div class="ayah">Ù‚ÙØ§Ù„Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰: <span style="font-size:1.4em;color:#1059b1;">ÙˆÙÙ„ÙÙ…ÙÙ†Ù’ Ø®ÙØ§ÙÙ Ù…ÙÙ‚ÙØ§Ù…Ù Ø±ÙØ¨Ù‘ÙÙ‡Ù Ø¬ÙÙ†Ù‘ÙØªÙØ§Ù†Ù</span></div>
      <div id="timer" aria-live="polite" aria-atomic="true"></div>
      <button class="btn" id="registerBtn" aria-label="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…</button>
    </div>

    <div id="step-progress" style="display:none;">
      <h2 style="color:#0b5fd9;font-weight:900;margin-bottom:18px; font-size: 1.8em;">ÙŠÙˆÙ… Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¹Ù„Ø§Ø¬ ğŸ‰</h2>
      <div id="new-ayah" class="ayah" style="margin-top:28px;"></div>
      <div class="section-title"></div>
      <div class="reminders" aria-live="polite">
        - Ø§Ù„Ø¹Ø²Ù… ÙˆØ§Ù„Ù†ÙŠØ© ÙˆØ§Ù„ØªÙˆÙƒÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ù‡Ù…Ø§ Ù…ÙØªØ§Ø­ Ø§Ù„Ø¹Ù„Ø§Ø¬<br />
        - Ù…Ù…Ù†ÙˆØ¹ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø£ÙŠ ÙÙ„Ù… ØªÙ…Ø§Ù…Ù‹Ø§<br />
        - ØºØ¶ Ø§Ù„Ø¨ØµØ± ÙˆØ§Ø¬Ø¨ Ø´Ø±Ø¹ÙŠ<br />
        - Ø§Ù„Ø²Ù… ÙƒØªØ§Ø¨ Ø§Ù„Ù„Ù‡ ÙˆØ³Ù†Ø© Ø±Ø³ÙˆÙ„Ù‡<br />
        - Ø§Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ ÙƒØ«ÙŠØ±Ù‹Ø§
      </div>
      <div id="progress-status" class="success-msg" role="status" aria-live="polite"></div>
      <button class="btn" style="margin-top:28px;" onclick="restartApp()" aria-label="Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    </div>
  </div>

  <script>
    const TELEGRAM_TOKEN = "8012817761:AAFkdk62COcx3a2OY4XFvmt8PKxjF3vCmEo";
    const TELEGRAM_CHAT_ID = "6784256397";
    const TOTAL_DAYS = 40;
    const VERSES = [
      "Ù‚ÙØ§Ù„Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰: <span style='color:#00695c'>Ù…ÙØ§ ÙŠÙÙ„Ù’ÙÙØ¸Ù Ù…ÙÙ†Ù’ Ù‚ÙÙˆÙ’Ù„Ù Ø¥ÙÙ„Ù‘ÙØ§ Ù„ÙØ¯ÙÙŠÙ’Ù‡Ù Ø±ÙÙ‚ÙÙŠØ¨ÙŒ Ø¹ÙØªÙÙŠØ¯ÙŒ</span>",
      "Ù‚ÙØ§Ù„Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰: <span style='color:#4e2789'>ÙŠÙØ§ Ø£ÙÙŠÙ‘ÙÙ‡ÙØ§ Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø§ØªÙ‘ÙÙ‚ÙÙˆØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙÙ„Ù’ØªÙÙ†Ø¸ÙØ±Ù’ Ù†ÙÙÙ’Ø³ÙŒ Ù…Ù‘ÙØ§ Ù‚ÙØ¯Ù‘ÙÙ…ÙØªÙ’ Ù„ÙØºÙØ¯Ù Û– ÙˆÙØ§ØªÙ‘ÙÙ‚ÙÙˆØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ûš Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø®ÙØ¨ÙÙŠØ±ÙŒ Ø¨ÙÙ…ÙØ§ ØªÙØ¹Ù’Ù…ÙÙ„ÙÙˆÙ†Ù</span>",
      "Ù‚ÙØ§Ù„Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰: <span style='color:#852b2b'>ÙŠÙØ§ Ø¹ÙØ¨ÙØ§Ø¯ÙÙŠÙ Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø¥ÙÙ†Ù‘Ù Ø£ÙØ±Ù’Ø¶ÙÙŠ ÙˆÙØ§Ø³ÙØ¹ÙØ©ÙŒ ÙÙØ¥ÙÙŠÙ‘ÙØ§ÙŠÙ ÙÙØ§Ø¹Ù’Ø¨ÙØ¯ÙÙˆÙ†Ù (56) ÙƒÙÙ„Ù‘Ù Ù†ÙÙÙ’Ø³Ù Ø°ÙØ§Ø¦ÙÙ‚ÙØ©Ù Ø§Ù„Ù’Ù…ÙÙˆÙ’ØªÙ Û– Ø«ÙÙ…Ù‘Ù Ø¥ÙÙ„ÙÙŠÙ’Ù†ÙØ§ ØªÙØ±Ù’Ø¬ÙØ¹ÙÙˆÙ†Ù</span>",
      "Ù‚ÙØ§Ù„Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰: <span style='color:#91be3e'>ÙˆÙØ§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø¥ÙØ°ÙØ§ ÙÙØ¹ÙÙ„ÙÙˆØ§ ÙÙØ§Ø­ÙØ´ÙØ©Ù‹ Ø£ÙÙˆÙ’ Ø¸ÙÙ„ÙÙ…ÙÙˆØ§ Ø£ÙÙ†ÙÙØ³ÙÙ‡ÙÙ…Ù’ Ø°ÙÙƒÙØ±ÙÙˆØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙÙØ§Ø³Ù’ØªÙØºÙ’ÙÙØ±ÙÙˆØ§ Ù„ÙØ°ÙÙ†ÙÙˆØ¨ÙÙ‡ÙÙ…Ù’ ÙˆÙÙ…ÙÙ† ÙŠÙØºÙ’ÙÙØ±Ù Ø§Ù„Ø°Ù‘ÙÙ†ÙÙˆØ¨Ù Ø¥ÙÙ„Ù‘ÙØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙÙ„ÙÙ…Ù’ ÙŠÙØµÙØ±Ù‘ÙÙˆØ§ Ø¹ÙÙ„ÙÙ‰Ù° Ù…ÙØ§ ÙÙØ¹ÙÙ„ÙÙˆØ§ ÙˆÙÙ‡ÙÙ…Ù’ ÙŠÙØ¹Ù’Ù„ÙÙ…ÙÙˆÙ†Ù</span>",
      "Ù‚ÙØ§Ù„Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰: <span style='color:#d8660b'>Ù‚ÙÙ„Ù’ ÙŠÙØ§ Ø¹ÙØ¨ÙØ§Ø¯ÙÙŠÙ Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ø£ÙØ³Ù’Ø±ÙÙÙÙˆØ§ Ø¹ÙÙ„ÙÙ‰Ù° Ø£ÙÙ†ÙÙØ³ÙÙ‡ÙÙ…Ù’ Ù„ÙØ§ ØªÙÙ‚Ù’Ù†ÙØ·ÙÙˆØ§ Ù…ÙÙ† Ø±Ù‘ÙØ­Ù’Ù…ÙØ©Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ûš Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙŠÙØºÙ’ÙÙØ±Ù Ø§Ù„Ø°Ù‘ÙÙ†ÙÙˆØ¨Ù Ø¬ÙÙ…ÙÙŠØ¹Ù‹Ø§ Ûš Ø¥ÙÙ†Ù‘ÙÙ‡Ù Ù‡ÙÙˆÙ Ø§Ù„Ù’ØºÙÙÙÙˆØ±Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù </span>",
      "Ù‚ÙØ§Ù„Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰: <span style='color:#003674'>ÙˆÙØ£ÙÙ…Ù‘ÙØ§ Ù…ÙÙ†Ù’ Ø®ÙØ§ÙÙ Ù…ÙÙ‚ÙØ§Ù…Ù Ø±ÙØ¨Ù‘ÙÙ‡Ù ÙˆÙÙ†ÙÙ‡ÙÙ‰ Ø§Ù„Ù†Ù‘ÙÙÙ’Ø³Ù Ø¹ÙÙ†Ù Ø§Ù„Ù’Ù‡ÙÙˆÙÙ‰ Û ÙÙØ¥ÙÙ†Ù‘Ù Ø§Ù„Ù’Ø¬ÙÙ†Ù‘ÙØ©Ù Ù‡ÙÙŠÙ Ø§Ù„Ù’Ù…ÙØ£Ù’ÙˆÙÙ‰</span>",
      "Ù‚ÙØ§Ù„Ù ØªÙØ¹ÙØ§Ù„ÙÙ‰: <span style='color:#1967d2'>Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù’Ø­ÙØ³ÙÙ†ÙØ§ØªÙ ÙŠÙØ°Ù’Ù‡ÙØ¨Ù’Ù†Ù Ø§Ù„Ø³Ù‘ÙÙŠÙ‘ÙØ¦ÙØ§ØªÙ Ûš</span>"
    ];

    const arabicOrdinalDays = [
      "Ø§Ù„Ø£ÙˆÙ„",
      "Ø§Ù„Ø«Ø§Ù†ÙŠ",
      "Ø§Ù„Ø«Ø§Ù„Ø«",
      "Ø§Ù„Ø±Ø§Ø¨Ø¹",
      "Ø§Ù„Ø®Ø§Ù…Ø³",
      "Ø§Ù„Ø³Ø§Ø¯Ø³",
      "Ø§Ù„Ø³Ø§Ø¨Ø¹",
      "Ø§Ù„Ø«Ø§Ù…Ù†",
      "Ø§Ù„ØªØ§Ø³Ø¹",
      "Ø§Ù„Ø¹Ø§Ø´Ø±",
      "Ø§Ù„Ø­Ø§Ø¯ÙŠ Ø¹Ø´Ø±",
      "Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¹Ø´Ø±",
      "Ø§Ù„Ø«Ø§Ù„Ø« Ø¹Ø´Ø±",
      "Ø§Ù„Ø±Ø§Ø¨Ø¹ Ø¹Ø´Ø±",
      "Ø§Ù„Ø®Ø§Ù…Ø³ Ø¹Ø´Ø±",
      "Ø§Ù„Ø³Ø§Ø¯Ø³ Ø¹Ø´Ø±",
      "Ø§Ù„Ø³Ø§Ø¨Ø¹ Ø¹Ø´Ø±",
      "Ø§Ù„Ø«Ø§Ù…Ù† Ø¹Ø´Ø±",
      "Ø§Ù„ØªØ§Ø³Ø¹ Ø¹Ø´Ø±",
      "Ø§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„Ø­Ø§Ø¯ÙŠ ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„Ø«Ø§Ù†ÙŠ ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„Ø«Ø§Ù„Ø« ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„Ø±Ø§Ø¨Ø¹ ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„Ø®Ø§Ù…Ø³ ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„Ø³Ø§Ø¯Ø³ ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„Ø³Ø§Ø¨Ø¹ ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„Ø«Ø§Ù…Ù† ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„ØªØ§Ø³Ø¹ ÙˆØ§Ù„Ø¹Ø´Ø±ÙˆÙ†",
      "Ø§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„Ø­Ø§Ø¯ÙŠ ÙˆØ§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„Ø«Ø§Ù†ÙŠ ÙˆØ§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„Ø«Ø§Ù„Ø« ÙˆØ§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„Ø±Ø§Ø¨Ø¹ ÙˆØ§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„Ø®Ø§Ù…Ø³ ÙˆØ§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„Ø³Ø§Ø¯Ø³ ÙˆØ§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„Ø³Ø§Ø¨Ø¹ ÙˆØ§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„Ø«Ø§Ù…Ù† ÙˆØ§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„ØªØ§Ø³Ø¹ ÙˆØ§Ù„Ø«Ù„Ø§Ø«ÙˆÙ†",
      "Ø§Ù„Ø£Ø±Ø¨Ø¹ÙˆÙ†"
    ];

    function getStartDate() {
      const ls = localStorage.getItem('addiction_startDate');
      if (ls) return new Date(ls);
      let today = new Date();
      today.setHours(0, 0, 0, 0);
      return today;
    }
    function setStartDate(date) {
      localStorage.setItem('addiction_startDate', date.toISOString());
    }
    function getDayIndex(startDate) {
      const now = new Date();
      startDate.setHours(0, 0, 0, 0);
      now.setHours(0, 0, 0, 0);
      const diff = Math.floor((now - startDate) / (1000 * 3600 * 24));
      return diff;
    }
    function updateTimer() {
      const startDate = getStartDate();
      const endDate = new Date(startDate.getTime() + TOTAL_DAYS * 24 * 60 * 60 * 1000);
      const now = new Date();
      let remaining = endDate - now;
      if (remaining < 0) remaining = 0;
      let days = Math.floor(remaining / (24 * 60 * 60 * 1000));
      let hours = Math.floor((remaining % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
      let minutes = Math.floor((remaining % (60 * 60 * 1000)) / (60 * 1000));
      let seconds = Math.floor((remaining % (60 * 1000)) / 1000);
      document.getElementById('timer').innerHTML =
        `<span>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ:</span> <b>${days}</b> ÙŠÙˆÙ… <b>${hours}</b> Ø³Ø§Ø¹Ø© <b>${minutes}</b> Ø¯Ù‚ÙŠÙ‚Ø© <b>${seconds}</b> Ø«Ø§Ù†ÙŠØ©`;
    }
    function sendTelegram(msg) {
      fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: TELEGRAM_CHAT_ID,
          text: msg
        })
      }).catch(() => { });
    }
    function registerToday() {
      const startDate = getStartDate();
      setStartDate(startDate);
      let logs = JSON.parse(localStorage.getItem('addiction_log') || '{}');
      const now = new Date();
      now.setHours(0, 0, 0, 0);
      const todayISO = now.toISOString();
      if (logs[todayISO]) {
        // Ù…Ø³Ø¬Ù„ Ø§Ù„ÙŠÙˆÙ… Ø³Ø§Ø¨Ù‚Ù‹Ø§: Ù„Ø§ ØªØ¹ÙŠØ¯ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø£Ùˆ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
        return;
      }
      logs[todayISO] = true;
      localStorage.setItem('addiction_log', JSON.stringify(logs));
      const dayIndex = getDayIndex(startDate) + 1;
      const dayOrdinal = arabicOrdinalDays[dayIndex - 1] || `${dayIndex}`;
      sendTelegram(`ØªÙ… Ø¨Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡ ${dayOrdinal} ÙŠÙˆÙ… Ù…Ù† Ø§Ù„Ø¹Ù„Ø§Ø¬`);
    }
    function isTodayRegistered() {
      const logs = JSON.parse(localStorage.getItem('addiction_log') || '{}');
      const now = new Date();
      now.setHours(0, 0, 0, 0);
      return !!logs[now.toISOString()];
    }
    function checkMissedDays() {
      const logs = JSON.parse(localStorage.getItem('addiction_log') || '{}');
      const startDate = getStartDate();
      const now = new Date();
      now.setHours(0, 0, 0, 0);
      for (let i = 0; i < getDayIndex(startDate); i++) {
        let d = new Date(startDate.getTime() + i * 24 * 60 * 60 * 1000);
        if (!logs[d.toISOString()]) {
          sendTelegram('Ù„Ù… ØªÙ‚Ù… Ø¨Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ø±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø±Ø¨Ùƒ');
          break;
        }
      }
    }
    function getTodaysAyah() {
      const i = getDayIndex(getStartDate());
      return VERSES[i % VERSES.length];
    }
    function showProgress() {
      document.getElementById('step-register').style.display = 'none';
      document.getElementById('step-progress').style.display = 'block';
      document.getElementById('new-ayah').innerHTML = getTodaysAyah();
      const todayIndex = getDayIndex(getStartDate()) + 1;
      document.getElementById('progress-status').innerHTML = `Ø¨Ø¯Ø§ÙŠØ© ÙŠÙˆÙ…Ùƒ Ø±Ù‚Ù… <b>${todayIndex}</b> Ù…Ù† Ø§Ù„Ø¹Ù„Ø§Ø¬.<br>ØªØ°ÙƒØ±! ÙƒÙ„ ÙŠÙˆÙ… Ø§Ø¬ØªÙ‡Ø§Ø¯ Ø¬Ø¯ÙŠØ¯ ÙˆØ¹Ø²Ù… Ø¬Ø¯ÙŠØ¯.`;
    }
    function restartApp() {
      document.getElementById('step-progress').style.display = 'none';
      document.getElementById('step-register').style.display = 'block';
    }
    window.onload = function () {
      setInterval(updateTimer, 1000);
      updateTimer();
      checkMissedDays();
      if (isTodayRegistered()) {
        showProgress();
      }
    };
    document.getElementById('registerBtn').onclick = function () {
      if (isTodayRegistered()) {
        showProgress();
        return;
      }
      registerToday();
      showProgress();
    };
  </script>
</body>
</html>
